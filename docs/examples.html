<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Triva â€” Examples</title>
    <!-- Icons (Lucide via CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header"> <span class="logo">Dashboard</span> </div>
        <nav class="nav"> 
            <a href="./index.html" class="nav-item" data-page="overview"> 
            <i data-lucide="panels-top-left"></i> 
            <span>Overview</span> 
            </a> 
            <a href="./install.html" class="nav-item" data-page="docs"> 
            <i data-lucide="square-terminal"></i> 
            <span>Installation</span> 
            </a> 
            <a href="./usage.html" class="nav-item" data-page="docs"> 
            <i data-lucide="braces"></i> 
            <span>Useage</span> 
            </a> 
            <a href="./examples.html" class="nav-item active" data-page="docs"> 
            <i data-lucide="database"></i> 
            <span>Examples</span> 
            </a> 
            <a href="./bugs.html" class="nav-item" data-page="docs"> 
            <i data-lucide="bug"></i> 
            <span>Bugs</span> 
            </a> 
            <a href="./contribute.html" class="nav-item" data-page="docs"> 
            <i data-lucide="heart-handshake"></i> 
            <span>Contribute</span> 
            </a> 
        </nav>
    </aside>

    <main>
    <h1>Examples</h1>

    <h2>Basic API Protection</h2>

    <p>
        This example protects a public API from scraping while allowing normal user behavior.
    </p>

    <pre><code>createMiddleware({
    throttle: {
        limit: 1000,
        burst_limit: 20
    }
});</code></pre>

    <h2>Bot and AI-Aware Throttling</h2>

    <p>
        Automated clients consume limits faster than human traffic. Triva applies weighted
        enforcement without outright blocking bots.
    </p>

    <pre><code>createMiddleware({
    throttle: {
        limit: 500,
        bot_weight: 2
    }
});</code></pre>

    <h2>Tier-Based Traffic Management</h2>

    <p>
        Middleware behavior can change dynamically per request based on account tier,
        feature flags, or internal context.
    </p>

    <pre><code>createMiddleware({
    throttle: {
        limit: 1000,
        policies: ({ context }) => {
        if (context.tier === 'enterprise') {
            return { limit: 100000, burst_limit: 200 };
        }
        if (context.tier === 'pro') {
            return { limit: 10000 };
        }
        }
    }
});</code></pre>

    <h2>Querying Logs</h2>

    <p>
        Logs are automatically generated by the middleware and can be queried at any time.
    </p>

    <pre><code>import { logs } from 'triva';

const recent = await logs.get();
const windowsTraffic = await logs.get({ OS: 'Windows' });
const aiRequests = await logs.get({ AI: true });</code></pre>

    <h2>Log Maintenance</h2>

    <pre><code>await logs.delete('log-id');
await logs.clear();</code></pre>
    </main>

    <script>lucide.createIcons();</script>

</body>
</html>
